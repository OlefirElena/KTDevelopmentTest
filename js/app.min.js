"use strict";function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],s=t.dataset.da.trim().split(","),i={};i.element=t,i.parent=t.parentNode,i.destination=document.querySelector(s[0].trim()),i.breakpoint=s[1]?s[1].trim():"767",i.place=s[2]?s[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,s){return Array.prototype.indexOf.call(s,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const s=this.mediaQueries[t],i=String.prototype.split.call(s,","),o=window.matchMedia(i[0]),r=i[1],l=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===r}));o.addListener((function(){e.mediaHandler(o,l)})),this.mediaHandler(o,l)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const s=t[e];s.index=this.indexInParent(s.parent,s.element),this.moveTo(s.place,s.element,s.destination)}else for(let e=0;e<t.length;e++){const s=t[e];s.element.classList.contains(this.daClassname)&&this.moveBack(s.parent,s.element,s.index)}},DynamicAdapt.prototype.moveTo=function(e,t,s){t.classList.add(this.daClassname),"last"===e||e>=s.children.length?s.insertAdjacentElement("beforeend",t):"first"!==e?s.children[e].insertAdjacentElement("beforebegin",t):s.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,s){t.classList.remove(this.daClassname),void 0!==e.children[s]?e.children[s].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const s=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(s,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let s=t.innerHTML,i=document.createElement("div");if(i.classList.add("swiper-wrapper"),i.innerHTML=s,t.innerHTML="",t.appendChild(i),t.classList.add("swiper-bild"),t.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),t.appendChild(e)}}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}let sliderScrollItems=document.querySelectorAll("._swiper_scroll");if(sliderScrollItems.length>0)for(let e=0;e<sliderScrollItems.length;e++){const t=sliderScrollItems[e],s=t.querySelector(".swiper-scrollbar");new Swiper(t,{observer:!0,observeParents:!0,direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:s,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}function sliders_bild_callback(e){}const mx2=window.matchMedia("(max-width:991.98px)"),mn2=window.matchMedia("(min-width:991.98px)");let sliderExpertise;new Swiper(".slider-experience__body",{autoHeight:!1,speed:1e3,parallax:!0,loop:!0,grabCursor:!0,mousewheel:{releaseOnEdges:!0,sensitivity:3},breakpoints:{320:{slidesPerView:1.15,spaceBetween:16},768:{slidesPerView:1.3,spaceBetween:32},992:{slidesPerView:1,spaceBetween:0}}}),new Swiper(".slider-highlighted__body",{slidesPerView:1,autoHeight:!1,speed:1e3,spaceBetween:30,loop:!0,loopAdditionalSlides:1,parallax:!0,grabCursor:!0,navigation:{nextEl:".slider-highlighted .slider-arrow_next",prevEl:".slider-highlighted .slider-arrow_prev"}});const breakpointCheckermx2=function(){if(!0!==mx2.matches)return!1===mx2.matches?enableSwipermx2():void 0;void 0!==sliderExpertise&&sliderExpertise.destroy(!0,!0)},enableSwipermx2=function(){sliderExpertise=new Swiper(".slider-expertise__body",{effect:"coverflow",observer:!0,observeParents:!0,slidesPerView:1,speed:1e3,parallax:!0,grabCursor:!0,mousewheel:{releaseOnEdges:!0,sensitivity:3}})};let sliderTools;mx2.addListener(breakpointCheckermx2),breakpointCheckermx2(),new Swiper(".experts__items",{observer:!0,observeParents:!0,autoHeight:!1,slidesPerView:"auto",speed:1e3,spaceBetween:30,parallax:!0,grabCursor:!0,mousewheel:{releaseOnEdges:!0,sensitivity:3}});const breakpointCheckermn2=function(){if(!0!==mn2.matches)return!1===mn2.matches?enableSwipermn2():void 0;void 0!==sliderTools&&sliderTools.destroy(!0,!0)},enableSwipermn2=function(){sliderTools=new Swiper(".slider-tools__body",{observer:!0,observeParents:!0,autoHeight:!1,slidesPerView:2.5,speed:1e3,spaceBetween:20,parallax:!0,navigation:{nextEl:".slider-tools .slider-arrow_next",prevEl:".slider-tools .slider-arrow_prev"},breakpoints:{320:{slidesPerView:1.5},660:{slidesPerView:2.5}}})};function documentActions(e){const t=e.target;t.classList.contains("menu__arrow")&&t.closest(".menu__item").classList.toggle("_active"),!t.closest(".menu__item")&&document.querySelectorAll(".menu__item._active").length>0&&document.querySelector(".menu__item._active").classList.remove("_active"),t.classList.contains("search-form__btn")?document.querySelector(".search-form__item").classList.toggle("_active"):!t.closest(".search-form")&&document.querySelector(".search-form__item._active")&&document.querySelector(".search-form__item").classList.remove("_active")}mn2.addListener(breakpointCheckermn2),breakpointCheckermn2(),new Swiper(".slider-stories__body",{slidesPerView:1,autoHeight:!1,speed:1e3,parallax:!0,grabCursor:!0,pagination:{el:".controls-slider-stories__dotts",clickable:!0}}),document.addEventListener("click",documentActions);const iconMenu=document.querySelector(".icon-menu"),menuBody=document.querySelector(".menu__body");iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active")}));const menuLinks=document.querySelectorAll(".menu__link[data-goto]");if(menuLinks.length>0){function e(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const s=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector(".header__body").offsetHeight;iconMenu.classList.contains("_active")&&(document.body.classList.remove("_lock"),iconMenu.classList.remove("_active"),menuBody.classList.remove("_active")),window.scrollTo({top:s,behavior:"smooth"}),e.preventDefault()}}menuLinks.forEach((t=>{t.addEventListener("click",e)}))}const headerElement=document.querySelector(".header"),callback=function(e,t){e[0].isIntersecting?headerElement.classList.remove("_scroll"):headerElement.classList.add("_scroll")},headerObserver=new IntersectionObserver(callback);headerObserver.observe(headerElement);const spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){const e=Array.from(spollersArray).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));e.length>0&&s(e);const t=Array.from(spollersArray).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(t.length>0){const e=[];t.forEach((t=>{const s={},i=t.dataset.spollers.split(",");s.value=i[0],s.type=i[1]?i[1].trim():"max",s.item=t,e.push(s)}));let i=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));i=i.filter((function(e,t,s){return s.indexOf(e)===t})),i.forEach((t=>{const i=t.split(","),o=i[1],r=i[2],l=window.matchMedia(i[0]),n=e.filter((function(e){if(e.value===o&&e.type===r)return!0}));l.addListener((function(){s(n,l)})),s(n,l)}))}function s(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),i(e),e.addEventListener("click",o)):(e.classList.remove("_init"),i(e,!1),e.removeEventListener("click",o))}))}function i(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function o(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const s=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),i=s.closest("[data-spollers]"),o=!!i.hasAttribute("data-one-spoller");i.querySelectorAll("._slide").length||(o&&!s.classList.contains("_active")&&r(i),s.classList.toggle("_active"),_slideToggle(s.nextElementSibling,500)),e.preventDefault()}}function r(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))}}let _slideUp=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=(e,t=500)=>e.hidden?_slideDown(e,t):_slideUp(e,t),unlock=!0,popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup");for(let e=0;e<popup_link.length;e++){const t=popup_link[e];t.addEventListener("click",(function(e){if(unlock){popup_open(t.getAttribute("href").replace("#",""),t.getAttribute("data-video"))}e.preventDefault()}))}for(let e=0;e<popups.length;e++){popups[e].addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(e,t=""){document.querySelectorAll(".popup._active").length>0&&popup_close("",!1);let s=document.querySelector(".popup_"+e);if(s&&unlock){if(""!=t&&null!=t){document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="'+t+'" encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||document.body.classList.toggle("_lock"),s.classList.add("_active"),history.pushState("","","#"+e)}}function popup_close(e,t=!0){if(unlock){if(e){let t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active")}else for(let e=0;e<popups.length;e++){const t=popups[e];let s=t.querySelector(".popup__video");s&&(s.innerHTML=""),t.classList.remove("_active")}!document.querySelector(".menu__body._active")&&t&&document.body.classList.toggle("_lock"),history.pushState("","",window.location.href.split("#")[0])}}let popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(let e=0;e<popup_close_icon.length;e++){const t=popup_close_icon[e];t.addEventListener("click",(function(){popup_close(t.closest(".popup"))}))}function filter(){const e=document.querySelectorAll(".filter__item"),t=document.querySelectorAll(".filter__block");e.forEach((s=>{s.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),s.classList.add("active");const i=s.dataset.filter;var o;o=i,t.forEach((e=>{const t=!e.classList.contains(o),s="all"===o.toLowerCase();t&&!s?e.classList.add("hide"):e.classList.remove("hide")}))}))}))}document.addEventListener("keydown",(function(e){"Escape"===e.code&&popup_close()})),filter();